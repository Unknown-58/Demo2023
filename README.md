# DEMO2023

:closed_book:[Задание](https://cdn.dp.worldskills.ru/esatk-prod/public_files/3452e3a5-d95b-4a3b-9a12-35e4bf991280-62d2325bc9e62929ba7e192fed6d6036.pdf)

:closed_book:[Вариант#1](https://github.com/Unknown-58/Demo2022/blob/main/Doc/Demo2022.pdf)

# Вариант #1

### Виртуальные машины и коммутация.
Необходимо выполнить создание и базовую конфигурацию виртуальных
машин.
![image](https://github.com/Pavel58-pnz/Demo2022/blob/main/image/Demo.png)
1. На основе предоставленных VM или шаблонов VM создайте отсутствующие виртуальные машины в соответствии со схемой.  
   -	Характеристики VM установите в соответствии с Таблицей 1;
   -	Коммутацию (если таковая не выполнена) выполните в соответствии со схемой сети.	 
2.  Имена хостов в созданных VM должны быть установлены в соответствии со схемой.
3.  Адресация должна быть выполнена в соответствии с Таблицей 1;
4.  Обеспечьте VM дополнительными дисками, если таковое необходимо в соответствии с Таблицей 1;
## Таблица 1. Характеристики VM
|Name VM         |ОС                  |RAM             |CPU             |IP                    |Additionally                       |
|  ------------- | -------------      | -------------  |  ------------- |  -------------       |  -------------                    |  
|ISP             |Debian 11           |2 GB            |2               |3.3.3.1/24            |                                   |
|                |                    |                |                |4.4.4.1/24            |                                   |
|                |                    |                |                |5.5.5.1/24            |                                   |
|RTR-L           |Debian 11           |2 GB            |2/4             |4.4.4.100/24          |                                   |
|                |                    |                |                |192.168.101.254/24    |                                   |
|RTR-R           |Debian 11           |2 GB            |2/4             |5.5.5.100/24          |                                   |
|                |                    |                |                |172.16.101.254 /24    |                                   |
|SRV             |Debian 11/ Win 2019 |2 GB /4 GB      |2/4             |192.168.101.200/24    |Доп диски 2 шт по 5 GB             |
|WEB-L           |Debian 11           |2 GB            |2               |192.168.101.100/24    |                                   |
|WEB-R           |Debian 11           |2 GB            |2               |172.16.101.100/24     |                                   |
|CLI             |Win 10              |4 GB            |4               |3.3.3.10/24           |                                   |

### 1. На основе предоставленных VM или шаблонов VM создайте отсутствующие виртуальные машины в соответствии со схемой.
Убедитесь что все VM созданы в соотведствии со схемой 

![image](https://github.com/Unknown-58/Demo2022/blob/main/image/Demo02.jpg)

SRV
```powershell
powershell
Rename-Computer -NewName SRV
```
WEB-L
```debian
echo WEB-L > /etc/hostname
```
RTR-L
```debian
echo RTR-L > /etc/hostname
```
CLI
```powershell
powershell
Rename-Computer -NewName CLI

```
ISP
```debian
echo ISP > /etc/hostname
```
RTR-R
```debian
echo RTR-R > /etc/hostname
```
WEB-R
```debian
echo WEB-R > /etc/hostname
```

## Сетевая связность.
В рамках данного модуля требуется обеспечить сетевую связность между
регионами работы приложения, а также обеспечить выход VM в имитируемую
сеть “Интернет”

1. Сети, подключенные к ISP, считаются внешними:
   - Запрещено прямое попадание трафика из внутренних сетей во внешние и наоборот;
2. Платформы контроля трафика, установленные на границах регионов, должны выполнять трансляцию трафика, идущего из соответствующих внутренних сетей во внешние сети стенда и в сеть Интернет.
   - Трансляция исходящих адресов производится в адрес платформы,расположенный во внешней сети.    
3. Между платформами должен быть установлен защищенный туннель, позволяющий осуществлять связь между регионами с применением внутренних адресов.
   - Трафик, проходящий по данному туннелю, должен быть защищен:
     - Платформа ISP не должна иметь возможности просматривать содержимое пакетов, идущих из одной внутренней сети в другую.
   - Туннель должен позволять защищенное взаимодействие между платформами управления трафиком по их внутренним адресам
     - Взаимодействие по внешним адресам должно происходит без применения туннеля и шифрования
   - Трафик, идущий по туннелю между регионами по внутренним адресам, не должен транслироваться.
 4. Платформа управления трафиком RTR-L выполняет контроль входящего трафика согласно следующим правилам:
    - Разрешаются подключения к портам DNS, HTTP и HTTPS для всех клиентов;
      - Порты необходимо для работы настраиваемых служб
    - Разрешается работа выбранного протокола организации защищенной связи; 
      - Разрешение портов должно быть выполнено по принципу “необходимо и достаточно”
    - Разрешается работа протоколов ICMP;
    - Разрешается работа протокола SSH;
    - Прочие подключения запрещены;
    - Для обращений в платформам со стороны хостов, находящихся внутри регионов, ограничений быть не должно;
5. Платформа управления трафиком RTR-R выполняет контроль входящего трафика согласно следующим правилам:
   - Разрешаются подключения к портам HTTP и HTTPS для всех клиентов;
     - Порты необходимо для работы настраиваемых служб
   - Разрешается работа выбранного протокола организации защищенной связи;
     - Разрешение портов должно быть выполнено по принципу необходимо и достаточно”
   - Разрешается работа протоколов ICMP;
   - Разрешается работа протокола SSH;
   - Прочие подключения запрещены;
   - Для обращений в платформам со стороны хостов, находящихся внутри регионов, ограничений быть не должно;
6. Обеспечьте настройку служб SSH региона Left и Right:
   - Подключения со стороны внешних сетей по протоколу к платформе управления трафиком RTR-L на порт 2222 должны быть перенаправлены на VM Web-L;
   - Подключения со стороны внешних сетей по протоколу к платформе управления трафиком RTR-R на порт 2244 должны быть перенаправлены на VM Web-R;
